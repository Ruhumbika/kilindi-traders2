{
    "name": "Kilindi Traders Dev Container",
    "image": "mcr.microsoft.com/vscode/devcontainers/php:8.3-bullseye",
    "features": {
        "composer": "latest",
        "node": "lts",
        "mysql": "latest"
    },
    "postCreateCommand": "composer install && php artisan key:generate && php artisan migrate",
    "customizations": {
        "vscode": {
            "extensions": [
                "bmewburn.vscode-intelephense-client",
                "felixfbecker.php-debug",
                "esbenp.prettier-vscode",
                "eamodio.gitlens"
            ]
        }
    },
    "forwardPorts": [8000, 3306],
    "remoteUser": "vscode",
    "mounts": [
        "source=${localWorkspaceFolder},target=/workspace,type=bind,consistency=cached"
    ],
    "containerEnv": {
        "APP_NAME": "Kilindi Traders",
        "APP_ENV": "local",
        "APP_DEBUG": "true",
        "APP_URL": "http://localhost:8000",
        "DB_CONNECTION": "mysql",
        "DB_HOST": "localhost",
        "DB_PORT": "3306",
        "DB_DATABASE": "kilindi_traders",
        "DB_USERNAME": "root",
        "DB_PASSWORD": "root",
        "SESSION_DRIVER": "database",
        "QUEUE_CONNECTION": "database",
        "CACHE_STORE": "database",
        "FILESYSTEM_DISK": "local",
        "MAIL_MAILER": "log"
    }
}
